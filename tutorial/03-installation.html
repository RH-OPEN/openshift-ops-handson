<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: OpenShift Ops Handson</title>
    <link rel="canonical" href="https://rh-open.github.io/openshift-ops-handson/tutorial/03-installation.html">
    <link rel="prev" href="02-env-overview.html">
    <link rel="next" href="04-app-basic.html">
    <meta name="generator" content="Antora 3.0.0">
    <link rel="stylesheet" href="../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://developers.redhat.com" target="_blank"><img src="../_/img/NewRHDFullLogo_4-color_white-wordmark.png" height="40px" alt="Red Hat Developer Program"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="https://rh-open.github.io/openshift-ops-handson">OpenShift Ops Handson</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://developers.redhat.com/ebooks/" target="_blank">Books</a>
        <a class="navbar-item" href="https://developers.redhat.com/cheatsheets/" target="_blank">Cheat Sheets</a>
        <a class="navbar-item" href="https://developers.redhat.com/events/" target="_blank">Upcoming Events</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">More Tutorials</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/kubernetes-tutorial/" target="_blank">Kubernetes</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/istio-tutorial/" target="_blank">Istio</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/quarkus-tutorial/" target="_blank">Quarkus</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/knative-tutorial/" target="_blank">Knative</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/tekton-tutorial/" target="_blank">Tekton</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="tutorial" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html"></a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="01-setup.html">1. Setup</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01-setup.html#prerequisite">Prerequisites</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="01-setup.html#minikube">Setup Minikube</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="02-env-overview.html">2. Environment Overview</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="03-installation.html">3. Installation and Verification</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="04-app-basic.html">4. Application Management Basics</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="05-storage-basic.html">5. Application Storage Basics</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="06-machineset.html">6. MachineSets, Machines, and Nodes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="07-operator.html">7. Infrastructure Nodes and Operators</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="08-logging.html">8. OpenShift Log Aggregation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="09-auth.html">9. External (LDAP) Authentication Providers, Users, and Groups</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="10-monitoring.html">10. OpenShift Monitoring with Prometheus</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="#11-project.adoc">11. Project Template, Quota, and Limits</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="#12-network.adoc">12. OpenShift Networking and NetworkPolicy</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="#13-clusterrolebinding.adoc">13. Disabling Project Self-Provisioning</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="#14-clusterresourcequota.adoc">14. Cluster Resource Quotas</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="15-taint.html">15. Taints and Tolerations</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">OpenShift Ops Tutorial</a></li>
    <li><a href="03-installation.html">3. Installation and Verification</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/RH-OPEN/openshift-ops-handson/edit/master/documentation/modules/ROOT/pages/03-installation.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<div class="sect1">
<h2 id="_installation_and_verification"><a class="anchor" href="#_installation_and_verification"></a>Installation and Verification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>インストーラーがプロビジョニングするインフラストラクチャー (IPI) の OpenShift 4 インストールの範囲は、意図的に狭められています。 シンプルさと確実な成功のために設計されています。 以前はインストーラーによって処理されていた項目と構成の多くは、コントロール プレーンと基本的なワーカーのインストールが完了した直後に実行される「2 日目」の操作になることが期待されています。
インストーラーは、特定のプラットフォームでクラスターをプロビジョニングするためのガイド付きエクスペリエンスを提供します。</p>
</div>
<div class="paragraph">
<p>この IPI インストールはすでに実行されており、クラスターは基本的なデフォルト状態になっています。</p>
</div>
<div class="sect2">
<h3 id="_logging_in"><a class="anchor" href="#_logging_in"></a>Logging in</h3>
<div class="paragraph">
<p>クラスターのインストールを検査するには、次のように、クラスターがインストールされている踏み台ホストに SSH 接続するだけです。</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">ssh -l {{ SSH_USERNAME }} {{ BASTION_FQDN }} -o ServerAliveInterval=120</code></pre>
</div>
</div>
<div class="paragraph">
<p>次のメッセージが表示される場合があります。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>The authenticity of host 'bastion.xxxxx.sandbox000.opentlc.com (x.x.x.x.' can't be established.
ECDSA key fingerprint is SHA256:ZZZZzzzzzzZZZZZzzzzzzZZZZZZzzzzzzzZZZZzzZZz.
ECDSA key fingerprint is MD5:12:34:56:78:9a:bc:de:f1:23:45:67:89:ab:cd:ef:10.
Are you sure you want to continue connecting (yes/no)?</pre>
</div>
</div>
<div class="paragraph">
<p>その場合は、 <code>yes</code> と入力します。</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">yes</code></pre>
</div>
</div>
<div class="paragraph">
<p>ssh パスワードは次のとおりです (コピーして貼り付けてください)。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{{ SSH_PASSWORD }}</pre>
</div>
</div>
<div class="paragraph">
<p>踏み台ホストに SSH 接続したら、 <code>ec2-user</code> になります。</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo su - ec2-user</code></pre>
</div>
</div>
<div class="paragraph">
<p>ホスト名に 5 桁の英数字文字列 (例: b866q) があることに気付くでしょう。 この文字列が <code>GUID</code> です。 <code>GUID</code> をよく使用するため、環境変数としてエクスポートするのが理にかなっています。</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">export GUID=`hostname | cut -d. -f2`</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_master_components"><a class="anchor" href="#_master_components"></a>Master Components</h3>
<div class="imageblock unresolved">
<div class="content">
<img src="images/openshift_master_4_responsibilities.png" alt="openshift master 4 responsibilities">
</div>
<div class="title">Figure 1. OpenShift Master&#8217;s 4 main responsibilities.</div>
</div>
<div class="sect3">
<h4 id="_apiauthentication"><a class="anchor" href="#_apiauthentication"></a>API/Authentication</h4>
<div class="paragraph">
<p>Kubernetes API サーバーは、Kubernetes クラスターを構成するリソースを検証して構成します。</p>
</div>
<div class="paragraph">
<p>Kubernetes API サーバーと対話する一般的なものは次のとおりです。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>OpenShift Web Console</p>
</li>
<li>
<p>OpenShift <code>oc</code> command line tool</p>
</li>
<li>
<p>OpenShift Node</p>
</li>
<li>
<p>Kubernetes Controllers</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>API サーバーとのやり取りはすべて、TLS を使用して保護されています。 さらに、すべての API 呼び出しは、認証 (ユーザーが本人であること) と承認 (ユーザーは要求された API 呼び出しを行う権利を持っている) を行う必要があります。</p>
</div>
</div>
<div class="sect3">
<h4 id="_data_store"><a class="anchor" href="#_data_store"></a>Data Store</h4>
<div class="paragraph">
<p>OpenShift Data Store (etcd) は永続的なマスター状態を保存しますが、他のコンポーネントは etcd の変更を監視して、自分自身を目的の状態にします。 etcd は高可用性向けに構成されており、2n+1 ピア サービスで展開されます。</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>etcd はクラスターの状態を保存します。 ユーザー アプリケーション データの保存には使用されません。</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_scheduler"><a class="anchor" href="#_scheduler"></a>Scheduler</h4>
<div class="paragraph">
<p>Pod スケジューラーは、クラスター内のノードへの新しい Pod の配置を決定する役割を果たします。</p>
</div>
<div class="paragraph">
<p>スケジューラーは非常に柔軟で、クラスターの物理トポロジー (ラック、データセンターなど) を考慮することができます。</p>
</div>
</div>
<div class="sect3">
<h4 id="_health_scaling"><a class="anchor" href="#_health_scaling"></a>Health / Scaling</h4>
<div class="paragraph">
<p>各ポッドは liveness プローブと readiness プローブの両方を登録できます。</p>
</div>
<div class="paragraph">
<p>liveness プローブは、Pod が正常かどうかをシステムに伝えます。 ポッドが正常でない場合は、自動的に再起動できます。</p>
</div>
<div class="paragraph">
<p>準備プローブは、ポッドがトラフィックを受け取る準備ができたときにシステムに通知します。 これは、たとえば、クラスターがポッドをロード バランサーに配置するタイミングを知るために使用できます。</p>
</div>
<div class="paragraph">
<p>OpenShift マスターの責任範囲の詳細については、製品ドキュメントの <a href="https://docs.openshift.com/container-platform/4.9/architecture/control-plane.html">infrastructure components section</a> を参照してください。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_examining_the_installation_artifacts"><a class="anchor" href="#_examining_the_installation_artifacts"></a>Examining the installation artifacts</h3>
<div class="paragraph">
<p>OpenShift 4 は、2 人の有効なスーパーユーザーでインストールします。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>kubeadmin</code> (技術的には <code>kube:admin</code> のエイリアス)</p>
</li>
<li>
<p><code>system:admin</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>なぜ2つ？ <code>system:admin</code> は、証明書を使用してログインし、パスワードを持たないユーザーであるためです。 したがって、このスーパーユーザーは Web コンソール (パスワードが必要) にログインできません。</p>
</div>
<div class="paragraph">
<p>追加のユーザーがクラスターを認証して使用できるようにする場合は、前述のように、CustomResources と Operators を使用して目的の認証メカニズムを構成する必要があります。 LDAP ベースの認証は、ラボ演習の 1 つとして構成されます。</p>
</div>
</div>
<div class="sect2">
<h3 id="_verifying_the_installation"><a class="anchor" href="#_verifying_the_installation"></a>Verifying the Installation</h3>
<div class="paragraph">
<p>インストールでいくつかの基本的なテストを行いましょう。 管理者は、OpenShift とのやり取りのほとんどをコマンド ラインから行います。 <code>oc</code> プログラムは、OpenShift API と通信するコマンド ライン インターフェイスです。</p>
</div>
<div class="sect3">
<h4 id="_login_to_openshift"><a class="anchor" href="#_login_to_openshift"></a>Login to OpenShift</h4>
<div class="paragraph">
<p>インストールが完了すると、インストーラーは、環境へのアクセスに必要なさまざまな URL とパスワードを含むいくつかのアーティファクトを残しました。 インストール プログラムは <code>ec2-user</code> アカウントで実行されました。</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">ls -al ~/cluster-$GUID</code></pre>
</div>
</div>
<div class="paragraph">
<p>次のようなものが表示されます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>total 3008
drwxrwxr-x.  4 ec2-user ec2-user     273 Nov 18 01:48 .
drwx------. 13 ec2-user ec2-user    4096 Nov 18 02:55 ..
drwxr-x---.  2 ec2-user ec2-user      50 Nov 18 01:15 auth
-rw-rw----.  1 ec2-user ec2-user    4197 Nov 18 01:15 install-config.yaml.bak
-rw-r-----.  1 ec2-user ec2-user     283 Nov 18 01:15 metadata.json
-rw-rw-r--.  1 ec2-user ec2-user  149886 Nov 18 01:48 .openshift_install.log
-rw-rw-r--.  1 ec2-user ec2-user   11746 Nov 18 01:48 .openshift_install.log.gz
-rw-r-----.  1 ec2-user ec2-user 2403044 Nov 18 01:21 .openshift_install_state.json
-rw-r-----.  1 ec2-user ec2-user    1576 Nov 18 01:15 terraform.aws.auto.tfvars.json
-rw-r--r--.  1 ec2-user ec2-user  168006 Nov 18 01:30 terraform.tfstate
-rw-r-----.  1 ec2-user ec2-user  318587 Nov 18 01:15 terraform.tfvars.json
drwxr-x---.  2 ec2-user ec2-user      62 Nov 18 01:15 tls</pre>
</div>
</div>
<div class="paragraph">
<p>OpenShift 4 IPI インストールには、クラウド プロバイダー リソースの一部を作成するために Terraform が組み込まれています。 その出力の一部をここで見ることができます。 現在重要なファイルは <code>.openshift_install.log</code> です。 その最後の数行には、環境にアクセスする方法を理解するための関連する出力が含まれています。</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">tail -n10 ~/cluster-$GUID/.openshift_install.log</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">次のようなものが表示されます</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre>time="2021-07-06T19:36:30Z" level=info msg="Install complete!"
time="2021-07-06T19:36:30Z" level=info msg="To access the cluster as the system:admin user when using 'oc', run 'export KUBECONFIG=/home/ec2-user/cluster-pdr-5434/auth/kubeconfig'"
time="2021-07-06T19:36:30Z" level=info msg="Access the OpenShift web-console here: https://console-openshift-console.apps.cluster-pdr-5434.pdr-5434.sandbox259.opentlc.com"
time="2021-07-06T19:36:30Z" level=info msg="Login to the console with user: \"kubeadmin\", and password: \"SfaIH-4dBE5-A95AT-ahjjd\""
time="2021-07-06T19:36:30Z" level=debug msg="Time elapsed per stage:"
time="2021-07-06T19:36:30Z" level=debug msg="    Infrastructure: 8m50s"
time="2021-07-06T19:36:30Z" level=debug msg="Bootstrap Complete: 9m10s"
time="2021-07-06T19:36:30Z" level=debug msg=" Bootstrap Destroy: 38s"
time="2021-07-06T19:36:30Z" level=debug msg=" Cluster Operators: 14m45s"
time="2021-07-06T19:36:30Z" level=info msg="Time elapsed: 33m33s"</pre>
</div>
</div>
<div class="paragraph">
<p>インストールは別のシステム ユーザーとして実行され、artifacts フォルダーは読み取り専用で <code>lab-user</code> フォルダーにマウントされます。 幸いなことに、インストーラーは便利な <code>export</code> コマンドを実行できるようにしていますが、表示されるパスへの書き込み権限がありません。 <code>oc</code> コマンドは <code>KUBECONFIG</code> ファイルに書き込もうとしますが、それはできないので、後で書き込もうとするとエラーが発生します。</p>
</div>
<div class="paragraph">
<p>私たちのインストール プロセスでは、必要な構成が実際には既に <code>~/.kube/config</code> にコピーされているため、既にログインしています。次のことを試してください。</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc whoami</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>oc</code> ツールはすでにパスにあり、実行可能になっているはずです。</p>
</div>
</div>
<div class="sect3">
<h4 id="_examine_the_cluster_version"><a class="anchor" href="#_examine_the_cluster_version"></a>Examine the Cluster Version</h4>
<div class="paragraph">
<p>まず、次のコマンドを実行して、OpenShift クラスターの現在のバージョンを確認できます。</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc get clusterversion</code></pre>
</div>
</div>
<div class="paragraph">
<p>そして、次のような出力が表示されます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">NAME      VERSION   AVAILABLE   PROGRESSING   SINCE   STATUS
version   4.9.11    True        False         3h11m   Cluster version is 4.9.11</code></pre>
</div>
</div>
<div class="paragraph">
<p>詳細については、次のコマンドを実行できます。</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc describe clusterversion</code></pre>
</div>
</div>
<div class="paragraph">
<p>これにより、利用可能な更新などの追加の詳細が表示されます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">Name:         version
Namespace:
Labels:       &lt;none&gt;
Annotations:  &lt;none&gt;
API Version:  config.openshift.io/v1
Kind:         ClusterVersion
Metadata:
  Creation Timestamp:  2022-01-31T21:16:57Z
  Generation:          2
  Managed Fields:
    API Version:  config.openshift.io/v1
    Fields Type:  FieldsV1
    fieldsV1:
      f:spec:
        .:
        f:channel:
        f:clusterID:
    Manager:      cluster-bootstrap
    Operation:    Update
    Time:         2022-01-31T21:16:57Z
    API Version:  config.openshift.io/v1
    Fields Type:  FieldsV1
    fieldsV1:
      f:status:
        .:
        f:availableUpdates:
        f:conditions:
        f:desired:
          .:
          f:channels:
          f:image:
          f:url:
          f:version:
        f:history:
        f:observedGeneration:
        f:versionHash:
    Manager:         cluster-version-operator
    Operation:       Update
    Subresource:     status
    Time:            2022-01-31T21:29:24Z
  Resource Version:  83732
  UID:               b2c4f11b-6200-4d19-b3b8-1d8b743eede2
Spec:
  Channel:     stable-4.9
  Cluster ID:  20b3751f-aff9-4eaf-81ca-62930812e82d
Status:
  Available Updates:
    Channels:
      candidate-4.10
      candidate-4.9
      fast-4.9
      stable-4.9
    Image:    quay.io/openshift-release-dev/ocp-release@sha256:7b67b0cb5ab016528b8efdb6130c000398efc58f55e2226f3cf4e3be59c
78443
    URL:      https://access.redhat.com/errata/RHBA-2022:0195
    Version:  4.9.17
    Channels:
      candidate-4.10
      candidate-4.9
      fast-4.9
      stable-4.9
    Image:    quay.io/openshift-release-dev/ocp-release@sha256:bb1987fb718f81fb30bec4e0e1cd5772945269b77006576b02546cf84c7
7498e
    URL:      https://access.redhat.com/errata/RHBA-2022:0110
    Version:  4.9.15
    Channels:
      candidate-4.10
      candidate-4.9
      fast-4.9
      stable-4.9
    Image:    quay.io/openshift-release-dev/ocp-release@sha256:dd71b3cd08ce1e859e0e740a585827c9caa1341819d1121d92879873a12
7f5e2
    URL:      https://access.redhat.com/errata/RHBA-2021:5214
    Version:  4.9.12
    Channels:
      candidate-4.10
      candidate-4.9
      fast-4.9
      stable-4.9
    Image:    quay.io/openshift-release-dev/ocp-release@sha256:0ff5adc1199c77c2814c2030642109b24039087a2621b19e553a2315bcd
c4801
    URL:      https://access.redhat.com/errata/RHBA-2022:0029
    Version:  4.9.13
  Conditions:
    Last Transition Time:  2022-01-31T21:41:09Z
    Message:               Done applying 4.9.11
    Status:                True
    Type:                  Available
    Last Transition Time:  2022-01-31T21:41:09Z
    Status:                False
    Type:                  Failing
    Last Transition Time:  2022-01-31T21:41:09Z
    Message:               Cluster version is 4.9.11
    Status:                False
    Type:                  Progressing
    Last Transition Time:  2022-01-31T21:16:57Z
    Status:                True
    Type:                  RetrievedUpdates
  Desired:
    Channels:
      candidate-4.10
      candidate-4.9
      fast-4.9
      stable-4.9
    Image:    quay.io/openshift-release-dev/ocp-release@sha256:0f72e150329db15279a1aeda1286c9495258a4892bc5bf1bf5bb89942cd
432de
    URL:      https://access.redhat.com/errata/RHBA-2021:5003
    Version:  4.9.11
  History:
    Completion Time:    2022-01-31T21:41:09Z
    Image:              quay.io/openshift-release-dev/ocp-release@sha256:0f72e150329db15279a1aeda1286c9495258a4892bc5bf1bf
5bb89942cd432de
    Started Time:       2022-01-31T21:16:57Z
    State:              Completed
    Verified:           false
    Version:            4.9.11
  Observed Generation:  2
  Version Hash:         TAWX_HO9fK4=
Events:                 &lt;none&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_look_at_the_nodes"><a class="anchor" href="#_look_at_the_nodes"></a>Look at the Nodes</h4>
<div class="paragraph">
<p>次のコマンドを実行して、OpenShift が認識している <strong>Nodes</strong> のリストを表示します。</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc get nodes</code></pre>
</div>
</div>
<div class="paragraph">
<p>出力は次のようになります。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>NAME                                         STATUS   ROLES    AGE    VERSION
ip-10-0-142-214.us-east-2.compute.internal   Ready    master   126m   v1.22.8+9e95cb9
ip-10-0-156-248.us-east-2.compute.internal   Ready    worker   118m   v1.22.8+9e95cb9
ip-10-0-161-130.us-east-2.compute.internal   Ready    worker   118m   v1.22.8+9e95cb9
ip-10-0-171-45.us-east-2.compute.internal    Ready    master   126m   v1.22.8+9e95cb9
ip-10-0-208-3.us-east-2.compute.internal     Ready    master   126m   v1.22.8+9e95cb9</pre>
</div>
</div>
<div class="paragraph">
<p>3 つのマスターと 2 つのワーカーがあります。 OpenShift <strong>Master</strong> は、ソフトウェア定義ネットワーク (SDN) に参加する必要があるため、 <strong>Node</strong> でもあります。 追加の目的で追加のノードが必要な場合は、非常に簡単に作成できます
IPI を使用し、クラウド プロバイダーのオペレーターを活用すると、簡単に実行できます。 以降の演習では、OpenShift インフラストラクチャ コンポーネント (レジストリ、ルーターなど) を実行するノードを作成します。</p>
</div>
<div class="paragraph">
<p><code>ec2-user</code> ユーザー シェルを終了します。</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">exit</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_check_the_web_console"><a class="anchor" href="#_check_the_web_console"></a>Check the Web Console</h4>
<div class="paragraph">
<p>OpenShift は、ユーザー、開発者、アプリケーション オペレーター、および管理者が環境と対話するための Web コンソールを提供します。 クラスター自体のアップグレードを含むクラスター管理機能の多くは、Web コンソールを使用して簡単に実行できます。</p>
</div>
<div class="paragraph">
<p>Web コンソールは、実際には OpenShift 環境内でアプリケーションとして実行され、OpenShift ルーターを介して公開されます。 ルータの詳細については、後続の演習で学習します。</p>
</div>
<div class="paragraph">
<p>このラボには統合された Web コンソールが付属しているため、別のタブで Web コンソールを開く必要はありません。</p>
</div>
<div class="imageblock unresolved">
<div class="content">
<img src="images/consoletab.png" alt="consoletab">
</div>
</div>
<div class="paragraph">
<p>この Web コンソールは、ラボのほとんどの作業に使用できます。 何かが機能していない（または単にそこにない）ことがわかった場合; 別のタブで Web コンソールを開いてください。 次のリンクを Ctrl キーを押しながらクリックするだけで、これを行うことができます。</p>
</div>
<div class="paragraph">
<p>{{ MASTER_URL }}</p>
</div>
</div>
<div class="sect3">
<h4 id="_you_will_now_exit_the_ssh_session"><a class="anchor" href="#_you_will_now_exit_the_ssh_session"></a>You will now exit the ssh session</h4>
<div class="listingblock execute">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">exit</code></pre>
</div>
</div>
<div class="paragraph">
<p>誤って exit を複数回押してコンソールへの接続が閉じられた場合は、Web ページを更新して再接続してください。</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>初めて Web コンソールにアクセスしたときに、ブラウザーに自己署名証明書エラーが表示される場合があります。 OpenShift がインストールされると、デフォルトで、Web コンソールを含む OpenShift 内のすべてのコンポーネント間通信に対して CA および SSL 証明書が生成されます。 一部のラボ インスタンスは Let&#8217;s Encrypt 証明書を使用してインストールされているため、すべてがこの警告を受け取るわけではありません。</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="02-env-overview.html">2. Environment Overview</a></span>
  <span class="next"><a href="04-app-basic.html">4. Application Management Basics</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <a class="rhd-logo" href="https://developers.redhat.com" target="_blank"></div>
</footer>
<script src="../_/js/vendor/clipboard.js"></script>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
